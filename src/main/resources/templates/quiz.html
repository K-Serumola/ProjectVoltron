<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DNABank Personalization</title>
   <link href= "/css/styles.css"rel= "stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root {
      --primary-bg: #f2f6fa;
      --hero-bg: linear-gradient(135deg, #394063, #60B5C2);
      --text-color: white;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: var(--primary-bg);
    }
    .hero-box {
      text-align: center;
      padding: 60px 20px;
      background: var(--hero-bg);
      color: var(--text-color);
      border-radius: 12px;
      margin: 30px auto;
      max-width: 800px;
    }
    .form-section {
      background: #ffffff;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      max-width: 700px;
      margin: auto;
    }
    h2.section-title {
      color: #37426b;
      text-align: center;
      margin-bottom: 20px;
    }

        :root {
            --primary-bg: #f2f6fa;
            --hero-bg: linear-gradient(135deg, #394063, #60B5C2);
            --text-color: #000;
            --card-bg: #ffffff;
            --border-color: #dee2e6;
        }

        * {
            transition: all 0.3s ease;
        }

        body {
            background-color: var(--primary-bg);
            color: var(--text-color);
            font-family: Arial, sans-serif;
            min-height: 100vh;
        }

        .hero-section {
            background: var(--hero-bg);
            color: white;
            padding: 4rem 0;
            text-align: center;
            margin-bottom: 3rem;
        }

        .hero-section h1 {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .hero-section p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .customizer-panel {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .section-title {
            color: var(--text-color);
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .form-control, .form-select {
            background-color: var(--card-bg);
            border-color: var(--border-color);
            color: var(--text-color);
        }

        .form-control:focus, .form-select:focus {
            border-color: #60B5C2;
            box-shadow: 0 0 0 0.2rem rgba(96, 181, 194, 0.25);
        }

        .btn-primary {
            background: linear-gradient(135deg, #394063, #60B5C2);
            border: none;
        }

        .btn-secondary {
            background-color: #6c757d;
            border: none;
        }

        .sample-content {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .accessibility-notice {
            background: rgba(96, 181, 194, 0.1);
            border-left: 4px solid #60B5C2;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0 8px 8px 0;
        }

        /* Dark mode specific styles */
        .dark-mode {
            --primary-bg: #121212;
            --hero-bg: linear-gradient(135deg, #1f1f1f, #2e2e2e);
            --text-color: #ffffff;
            --card-bg: #1e1e1e;
            --border-color: #333333;
        }

        /* Colorblind friendly mode */
        .colorblind-mode {
            --primary-bg: #fffbe6;
            --hero-bg: linear-gradient(135deg, #000000, #1CA9C9);
            --text-color: #000;
            --card-bg: #ffffff;
            --border-color: #1CA9C9;
        }

        /* Dyslexia friendly mode */
        .dyslexia-mode {
            --primary-bg: #f3f3f3;
            --hero-bg: linear-gradient(135deg, #4267B2, #6D84B4);
            --text-color: #000;
            --card-bg: #ffffff;
            --border-color: #4267B2;
        }

        .dyslexia-mode * {
            font-family: 'OpenDyslexic', Arial, sans-serif !important;
            letter-spacing: 0.1em;
            line-height: 1.6;
        }

        .reset-btn {
            background-color: #dc3545;
            border: none;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-custom">
    <div class="container-fluid"> 
      <a class="navbar-brand" href="/index">PROJECT VOLTRON</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav ms-auto">
          <a class="nav-link active" aria-current="page" href="/index">Home</a>
          <a class="nav-link" href="/quiz">DNA Quiz</a>
          <a class="nav-link" href="/nubi">Nubi - AI</a>
          <a class="nav-link" href="/learn">LearnBank</a>
          <a class="nav-link" href="/mindbank">MindBank</a>
          <a class="nav-link" href="/profile">My Profile</a>
          
        </div>
      </div>
    </div>
  </nav>

  <section class="hero-box">
    <h1>üî¨ DNABank: Your Personalized Banking Experience</h1>
    <p>Tell us more about you so we can tailor your FNB banking experience ‚Äî
       from visuals to services, tips and tools that match your life.</p>
  </section>

<form method="POST" action="/submit-dna-profile">
  <div class="mb-3">
    <label for="lifestyle" class="form-label">Your Lifestyle</label>
    <select class="form-select" id="lifestyle" name="lifestyle">
      <option selected disabled>Choose...</option>
      <option>Student</option>
      <option>Entrepreneur</option>
      <option>Freelancer</option>
      <option>Full-time worker</option>
      <option>Pensioner</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="goals" class="form-label">Financial Goals</label>
    <input type="text" class="form-control" id="goals" name="goals" placeholder="e.g., saving for school, buying land">
  </div>

  <div class="mb-3">
    <label for="spending" class="form-label">Spending Habits</label>
    <select class="form-select" id="spending" name="spending">
      <option selected disabled>Choose...</option>
      <option>Daily Spender</option>
      <option>Budget-Conscious</option>
      <option>Long-Term Planner</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="techLevel" class="form-label">Tech Comfort Level</label>
    <select class="form-select" id="techLevel" name="techLevel">
      <option selected disabled>Choose...</option>
      <option>First-time user</option>
      <option>Casual user</option>
      <option>Power user</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="commPref" class="form-label">Communication Preferences</label>
    <select class="form-select" id="commPref" name="commPref">
      <option selected disabled>Choose...</option>
      <option>SMS Reminders</option>
      <option>Email Insights</option>
      <option>In-App Nudges</option>
      <option>All of the above</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="accessibility" class="form-label">Accessibility Needs</label>
    <textarea class="form-control" id="accessibility" name="accessibility" rows="3" placeholder="Large text, voice assistant, dyslexia-friendly fonts, etc."></textarea>
  </div>

  <div class="mb-3">
    <label for="disabilities" class="form-label">Disabilities / Neurodiversity (optional)</label>
    <textarea class="form-control" id="disabilities" name="disabilities" rows="3" placeholder="Let us know about any reading difficulties, ADHD, autism spectrum, etc."></textarea>
  </div>

  <button type="submit" class="btn btn-primary w-100">Save My DNABank Profile</button>
</form>

    <div class="container">
        <div class="row">
            <!-- Theme Customizer Panel -->
            <div class="col-lg-4">
                <div class="customizer-panel">
                    <h2 class="section-title">üé® Theme Customization</h2>
                    
                    <!-- Theme Presets -->
                    <div class="mb-3">
                        <label for="themePreset" class="form-label">Choose a Theme Preset</label>
                        <select id="themePreset" class="form-select" onchange="applyThemePreset()">
                            <option selected disabled>Select a mode</option>
                            <option value="light">‚òÄÔ∏è Light Mode</option>
                            <option value="dark">üåô Dark Mode</option>
                            <option value="colorblind">üü¢ Colorblind-Friendly</option>
                            <option value="dyslexia">üìò Dyslexia-Friendly</option>
                        </select>
                    </div>

                    <!-- Custom Color Controls -->
                    <div class="mb-3">
                        <label for="bgColor" class="form-label">Background Color</label>
                        <input type="color" class="form-control form-control-color" id="bgColor" value="#f2f6fa" onchange="applyCustomTheme()">
                    </div>
                    
                    <div class="mb-3">
                        <label for="heroStart" class="form-label">Hero Gradient Start Color</label>
                        <input type="color" class="form-control form-control-color" id="heroStart" value="#394063" onchange="applyCustomTheme()">
                    </div>
                    
                    <div class="mb-3">
                        <label for="heroEnd" class="form-label">Hero Gradient End Color</label>
                        <input type="color" class="form-control form-control-color" id="heroEnd" value="#60B5C2" onchange="applyCustomTheme()">
                    </div>

                    <!-- Font Size Control -->
                    <div class="mb-3">
                        <label for="fontSize" class="form-label">Font Size</label>
                        <input type="range" class="form-range" id="fontSize" min="12" max="24" value="16" onchange="applyFontSize()">
                        <small class="text-muted">Current: <span id="fontSizeValue">16px</span></small>
                    </div>

                    <button type="button" class="btn btn-primary w-100" onclick="applyCustomTheme()">Apply Custom Theme</button>
                    <button type="button" class="btn btn-secondary w-100 mt-2" onclick="saveTheme()">üíæ Save Theme</button>
                    <button type="button" class="btn btn-reset reset-btn w-100" onclick="resetTheme()">üîÑ Reset to Default</button>
                </div>

                <div class="accessibility-notice">
                    <h6>‚ôø Accessibility Features</h6>
                    <p><strong>Colorblind-Friendly:</strong> High contrast colors safe for color vision deficiency</p>
                    <p><strong>Dyslexia-Friendly:</strong> OpenDyslexic font with improved spacing</p>
                </div>
            </div>

            <!-- Sample Content -->
            <div class="col-lg-8">
                <div class="sample-content">
                    <h2>Sample Website Content</h2>
                    <p>This is a demonstration of how your theme changes affect the entire website. Notice how the colors, fonts, and spacing adapt to your preferences.</p>
                    
                    <h3>Features of This Theme System:</h3>
                    <ul>
                        <li><strong>Real-time updates:</strong> See changes instantly as you customize</li>
                        <li><strong>Accessibility focused:</strong> Special themes for different needs</li>
                        <li><strong>Persistent settings:</strong> Your preferences are saved locally</li>
                        <li><strong>Smooth transitions:</strong> All changes animate smoothly</li>
                    </ul>

                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">Sample Card</h5>
                                    <p class="card-text">This card demonstrates how your theme affects different UI elements throughout the website.</p>
                                    <button class="btn btn-primary">Sample Button</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">Another Card</h5>
                                    <p class="card-text">All elements automatically adapt to your chosen theme, ensuring consistency across the entire site.</p>
                                    <button class="btn btn-secondary">Another Button</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedTheme();
            updateFontSizeDisplay();
        });

        function applyThemePreset() {
            const mode = document.getElementById('themePreset').value;
            
            // Remove all theme classes
            document.body.classList.remove('dark-mode', 'colorblind-mode', 'dyslexia-mode');
            
            switch (mode) {
                case 'light':
                    // Light mode is default, no additional class needed
                    updateColorInputs('#f2f6fa', '#394063', '#60B5C2');
                    break;
                case 'dark':
                    document.body.classList.add('dark-mode');
                    updateColorInputs('#121212', '#1f1f1f', '#2e2e2e');
                    break;
                case 'colorblind':
                    document.body.classList.add('colorblind-mode');
                    updateColorInputs('#fffbe6', '#000000', '#1CA9C9');
                    break;
                case 'dyslexia':
                    document.body.classList.add('dyslexia-mode');
                    updateColorInputs('#f3f3f3', '#4267B2', '#6D84B4');
                    break;
            }
            
            saveTheme();
        }

        function applyCustomTheme() {
            const bgColor = document.getElementById('bgColor').value;
            const heroStart = document.getElementById('heroStart').value;
            const heroEnd = document.getElementById('heroEnd').value;
            
            // Remove preset classes when applying custom theme
            document.body.classList.remove('dark-mode', 'colorblind-mode', 'dyslexia-mode');
            
            document.documentElement.style.setProperty('--primary-bg', bgColor);
            document.documentElement.style.setProperty('--hero-bg', `linear-gradient(135deg, ${heroStart}, ${heroEnd})`);
            
            // Auto-detect if we should use light or dark text based on background
            const textColor = isLightColor(bgColor) ? '#000000' : '#ffffff';
            const cardBg = isLightColor(bgColor) ? '#ffffff' : '#1e1e1e';
            
            document.documentElement.style.setProperty('--text-color', textColor);
            document.documentElement.style.setProperty('--card-bg', cardBg);
        }

        function applyFontSize() {
            const fontSize = document.getElementById('fontSize').value;
            document.documentElement.style.setProperty('font-size', fontSize + 'px');
            updateFontSizeDisplay();
            saveTheme();
        }

        function updateFontSizeDisplay() {
            const fontSize = document.getElementById('fontSize').value;
            document.getElementById('fontSizeValue').textContent = fontSize + 'px';
        }

        function updateColorInputs(bg, start, end) {
            document.getElementById('bgColor').value = bg;
            document.getElementById('heroStart').value = start;
            document.getElementById('heroEnd').value = end;
        }

        function isLightColor(color) {
            // Convert hex to RGB and calculate brightness
            const hex = color.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            const brightness = ((r * 299) + (g * 587) + (b * 114)) / 1000;
            return brightness > 155;
        }

        function saveTheme() {
            const theme = {
                preset: document.getElementById('themePreset').value,
                bgColor: document.getElementById('bgColor').value,
                heroStart: document.getElementById('heroStart').value,
                heroEnd: document.getElementById('heroEnd').value,
                fontSize: document.getElementById('fontSize').value,
                bodyClass: document.body.className
            };
            
            // Store in memory (since localStorage isn't available)
            window.savedTheme = theme;
            
            // Show confirmation
            showNotification('Theme saved successfully! üíæ');
        }

        function loadSavedTheme() {
            const theme = window.savedTheme;
            if (theme) {
                document.getElementById('themePreset').value = theme.preset || '';
                document.getElementById('bgColor').value = theme.bgColor || '#f2f6fa';
                document.getElementById('heroStart').value = theme.heroStart || '#394063';
                document.getElementById('heroEnd').value = theme.heroEnd || '#60B5C2';
                document.getElementById('fontSize').value = theme.fontSize || '16';
                
                if (theme.bodyClass) {
                    document.body.className = theme.bodyClass;
                }
                
                applyCustomTheme();
                applyFontSize();
            }
        }

        function resetTheme() {
            document.getElementById('themePreset').selectedIndex = 0;
            document.getElementById('bgColor').value = '#f2f6fa';
            document.getElementById('heroStart').value = '#394063';
            document.getElementById('heroEnd').value = '#60B5C2';
            document.getElementById('fontSize').value = '16';
            
            document.body.classList.remove('dark-mode', 'colorblind-mode', 'dyslexia-mode');
            document.documentElement.style.removeProperty('--primary-bg');
            document.documentElement.style.removeProperty('--hero-bg');
            document.documentElement.style.removeProperty('--text-color');
            document.documentElement.style.removeProperty('--card-bg');
            document.documentElement.style.removeProperty('font-size');
            
            updateFontSizeDisplay();
            showNotification('Theme reset to default! üîÑ');
        }

        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'alert alert-success position-fixed';
            notification.style.cssText = 'top: 20px; right: 20px; z-index: 1050; min-width: 250px;';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
